<?xml version="1.0" encoding="UTF-8"?>
<xml>
	<!--HXCPP Defines-->

	<set name="HXCPP_ANDROID_PLATFORM" value="24" />

	<!--Adjust The `BINDIR` For Each Target-->

	<set name="LIBPREFIX" value="lib" />

	<set name="BINDIR" value="Windows" if="windows" />
	<set name="BINDIR" value="MacOS" if="macos" />
	<set name="BINDIR" value="Linux" if="linux" />

	<section if="windows || macos || linux">
		<set name="BINDIR" value="${BINDIR}/arm64" if="HXCPP_ARM64" />
		<set name="BINDIR" value="${BINDIR}/x64" if="HXCPP_M64" unless="HXCPP_ARM64" />
		<set name="BINDIR" value="${BINDIR}/x86" if="HXCPP_M32" />
	</section>

	<section if="android">
		<set name="BINDIR" value="${BINDIR}/arm64-v8a" if="HXCPP_ARM64" />
		<set name="BINDIR" value="${BINDIR}/armeabi-v7a" if="HXCPP_ARMV7" />
		<set name="BINDIR" value="${BINDIR}/x86" if="HXCPP_X86" />
		<set name="BINDIR" value="${BINDIR}/x86_64" if="HXCPP_X86_64" />
	</section>

	<!--Project Specific-->

	<set name="PROJECT_NAME" value="rogue" />

	<set name="PROJECT_DIR" value="${this_dir}" />
	<set name="PROJECT_THIRDPARTY_DIR" value="${PROJECT_DIR}/../thirdparty" />
	<set name="PROJECT_LIB_DIR" value="../lib" />

	<!--XML Includes-->

	<section>
		<!--Libraries Config-->
		<include name="${PROJECT_THIRDPARTY_DIR}/libraries-config.xml" />

		<section>
			<!--SDL Files-->
			<include name="${PROJECT_THIRDPARTY_DIR}/files/sdl-files.xml" />

			<!--SDL_Image Files-->
			<include name="${PROJECT_THIRDPARTY_DIR}/files/sdl_image-files.xml" />

			<!--SDL_TTF Files-->
			<include name="${PROJECT_THIRDPARTY_DIR}/files/sdl_ttf-files.xml" />

			<!--Glad Files-->
			<include name="${PROJECT_THIRDPARTY_DIR}/files/glad-files.xml" />

			<!--Miniaudio Files-->
			<include name="${PROJECT_THIRDPARTY_DIR}/files/miniaudio-files.xml" />
		</section>
	</section>

	<!--Project Target-->

	<target id="${PROJECT_NAME}" output="${LIBPREFIX}${PROJECT_NAME}" tool="linker" toolid="${STD_MODULE_LINK}">
		<outdir name="${PROJECT_LIB_DIR}/${BINDIR}" />

		<files id="sdl-files" />

		<files id="sdl_image-files" />

		<section>
			<files id="sdl_ttf-deps-freetype-files" />
			<files id="sdl_ttf-deps-harfbuzz-files" />
			<files id="sdl_ttf-deps-plutovg-files" />
			<files id="sdl_ttf-deps-plutosvg-files" />
			<files id="sdl_ttf-files" />
		</section>

		<files id="glad-files" />

		<section>
			<files id="miniaudio-deps-opus-files" />
			<files id="miniaudio-deps-ogg-files" />
			<files id="miniaudio-deps-opusfile-files" />
			<files id="miniaudio-deps-vorbis-files" />
			<files id="miniaudio-files" />
		</section>
	</target>

	<!--Default Target-->

	<target id="default">
		<target id="${PROJECT_NAME}" />
	</target>

</xml>
